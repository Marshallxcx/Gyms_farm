<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PokeMMO Gym Tracker Pro - Paxpo Full Route</title>
    <style>
        :root {
            --primary: #c1121f;
            --secondary: #003049;
            --accent: #669bbc;
            --bg: #fdf0d5;
            --white: #ffffff;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg);
            margin: 0;
            padding: 15px;
        }
        .main-layout {
            display: grid;
            grid-template-columns: 1.2fr 1fr;
            gap: 20px;
            max-width: 1600px;
            margin: auto;
        }
        @media (max-width: 1100px) {
            .main-layout { grid-template-columns: 1fr; }
        }
        .card {
            background: var(--white);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .calculator {
            background: var(--secondary);
            color: white;
            text-align: center;
        }
        input[type="time"] {
            padding: 12px;
            font-size: 1.3rem;
            border-radius: 8px;
            border: none;
            margin: 10px 0;
            cursor: pointer;
        }
        #result {
            font-size: 1.8rem;
            font-weight: bold;
            color: #ffb703;
            display: block;
            margin-top: 10px;
        }
        .pdf-container {
            height: 90vh;
            border-radius: 12px;
            overflow: hidden;
            border: 3px solid var(--secondary);
            position: sticky;
            top: 15px;
        }
        iframe { width: 100%; height: 100%; border: none; }
        .table-scroll {
            max-height: 70vh;
            overflow-y: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
        }
        th, td {
            padding: 10px;
            border-bottom: 1px solid #eee;
            text-align: left;
            font-size: 0.82rem;
        }
        th { background: var(--primary); color: white; position: sticky; top: 0; z-index: 10; }
        .region-header {
            background: #780000;
            color: white;
            font-weight: bold;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        .reset-note { color: #c1121f; font-weight: bold; font-size: 0.65rem; display: block; margin-top: 2px; }
        .warning-note { color: #f3722c; font-weight: bold; font-size: 0.65rem; }
        .poke-icon-wrapper {
            display: inline-flex;
            align-items: center;
            position: relative;
            margin-right: 5px;
        }
        .poke-icon {
            width: 28px;
            height: 28px;
        }
        .item-overlay {
            width: 12px;
            height: 12px;
            position: absolute;
            bottom: -2px;
            right: -2px;
            background: rgba(255,255,255,0.9);
            border-radius: 50%;
            border: 1px solid #ccc;
        }
        .strat-cell {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
        }
    </style>
</head>
<body>

    <h1 style="text-align:center; color: var(--secondary); margin-bottom: 20px;">PokeMMO Farm Dashboard - Ruta Completa Paxpo</h1>

    <div class="main-layout">
        
        <div class="content">
            <div class="card calculator">
                <h3>Calculadora de Cooldown (+18h)</h3>
                <p>Hora de finalización:</p>
                <input type="time" id="inputTime" onchange="calc18h()">
                <div id="result">Próximo: --:-- --</div>
            </div>

            <div class="card">
                <h3>Checklist de Gimnasios (Ruta PDF)</h3>
                <div class="table-scroll">
                    <table>
                        <thead>
                            <tr>
                                <th>✓</th>
                                <th>Gimnasio</th>
                                <th>Estrategia Paxpo</th>
                            </tr>
                        </thead>
                        <tbody id="gym-table-body">
                            </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="pdf-container">
            <iframe src="RUTA DE FARMEO_GYM_POKEMMO.pdf"></iframe>
        </div>
    </div>

    <script>
        const POKES = {
            tork: { name: 'Torkoal', img: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-vii/icons/324.png' },
            blast: { name: 'Blastoise', img: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-vii/icons/9.png' },
            arch: { name: 'Archeops', img: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-vii/icons/567.png' },
            typh_gafas: { name: 'Typhlosion (Gafas)', img: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-vii/icons/157.png', item: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/items/choice-specs.png' },
            typh_scarf: { name: 'Typhlosion (Scarf)', img: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-vii/icons/157.png', item: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/items/choice-scarf.png' }
        };

        function getPokeHTML(pokeKey) {
            const p = POKES[pokeKey];
            if(!p) return '';
            let itemHTML = p.item ? `<img src="${p.item}" class="item-overlay">` : '';
            return `<div class="poke-icon-wrapper" title="${p.name}">
                        <img src="${p.img}" class="poke-icon">
                        ${itemHTML}
                    </div>`;
        }

        const gymData = [
            { region: 'HOENN', gyms: [
                { name: 'Arrecípolis (Plubio)', pokes: ['tork', 'typh_gafas'], note: 'Tork/Scarf a Gafas/Arch' },
                { name: 'Lavacalda (Candela)', pokes: ['arch', 'blast'], note: 'Arch/Blast' },
                { name: 'Arborada (Alana)', pokes: ['arch', 'typh_gafas'], note: 'Arch/Gafas - RESET PC' },
                { name: 'Malvalona (Erico)', pokes: ['typh_scarf', 'blast'], note: 'Scarf/Blast (Si cae Scarf -> Arch + RESET)' },
                { name: 'Azuliza (Marcial)', pokes: ['typh_scarf', 'arch'], note: 'Scarf/Arch' },
                { name: 'Petalia (Norman)', pokes: ['tork', 'typh_gafas'], note: 'Tork/Scarf a Gafas/Arch - RESET PC' },
                { name: 'Férrica (Petra)', pokes: ['arch', 'blast'], note: 'Estrategia mixta' },
                { name: 'Algararia (Vito/Leti)', pokes: ['typh_gafas', 'typh_gafas'], note: '2x Typhlosion' }
            ]},
            { region: 'TESELIA', gyms: [
                { name: 'Porcelana (Camus)', pokes: ['typh_scarf', 'blast'], note: 'Scarf/Blast' },
                { name: 'Mayólica (Camila)', pokes: ['typh_scarf', 'arch'], note: 'Scarf/Arch' },
                { name: 'Fayenza (Yakón)', pokes: ['tork', 'blast'], note: 'Tork/Scarf a Gafas/Blast - RESET PC' },
                { name: 'Gres (Fuego)', pokes: ['typh_gafas', 'blast'], note: 'Gafas/Blast' },
                { name: 'Gres (Planta)', pokes: ['typh_scarf', 'arch'], note: 'Scarf/Arch' },
                { name: 'Gres (Agua)', pokes: ['tork', 'arch'], note: 'Tork/Arch -> 2x Typh - RESET PC' },
                { name: 'Loza (Gerania)', pokes: ['typh_scarf', 'blast'], note: 'Scarf/Blast' },
                { name: 'Teja (Junco)', pokes: ['typh_gafas', 'typh_gafas'], note: '2x Typh' },
                { name: 'Caolín (Lirio/Iris)', pokes: ['tork', 'arch'], note: 'VIENTO AFORTUNADO -> 2x Typh - RESET PC' },
                { name: 'Hormigón (Hiedra)', pokes: ['tork', 'typh_gafas'], note: 'Tork/Scarf a Gafas/Arch' }
            ]},
            { region: 'JOHTO', gyms: [
                { name: 'Violeta (Pegaso)', pokes: ['typh_scarf', 'blast'], note: 'Scarf/Blast' },
                { name: 'Olivo (Yasmina)', pokes: ['typh_gafas', 'arch'], note: 'Gafas/Arch' },
                { name: 'Azalea (Antón)', pokes: ['typh_gafas', 'typh_gafas'], note: '2x Typh (Si Tyranitar -> Tork EXPLOTA) - CAMBIAR CANAL' },
                { name: 'Iris (Morti)', pokes: ['typh_gafas', 'arch'], note: 'Gafas/Arch' },
                { name: 'Caoba (Fredo)', pokes: ['typh_gafas', 'typh_gafas'], note: '2x Typh - RESET PC' },
                { name: 'Trigal (Blanca)', pokes: ['typh_gafas', 'arch'], note: 'Gafas/Arch' },
                { name: 'Endrino (Débora)', pokes: ['tork', 'typh_gafas'], note: 'Tork/Scarf a Gafas/Arch' },
                { name: 'Orquídea (Aníbal)', pokes: ['typh_scarf', 'arch'], note: 'Scarf/Arch' }
            ]},
            { region: 'SINNOH', gyms: [
                { name: 'Rocavelo (Brega)', pokes: ['typh_gafas', 'arch'], note: 'Gafas/Arch - CAMBIAR CANAL - RESET PC' },
                { name: 'Pirita (Roco)', pokes: ['arch', 'blast'], note: 'Arch/Blast (Si Arch cae -> Gafas)' },
                { name: 'Vetusta (Gardenia)', pokes: ['typh_scarf', 'arch'], note: 'Scarf/Arch' },
                { name: 'Puntaneva (Inverna)', pokes: ['typh_gafas', 'typh_gafas'], note: '2x Typh (Si Heatran/Regirock -> Blast/Arch)' },
                { name: 'Canal (Acerón)', pokes: ['tork', 'blast'], note: 'Tork/Scarf a Gafas/Blast - DESCONECTAR - RESET PC' },
                { name: 'Marina (Lectro)', pokes: ['arch', 'blast'], note: 'Arch/Blast (Si Lanturn -> Tork a Gafas)' },
                { name: 'Corazón (Fantina)', pokes: ['typh_gafas', 'arch'], note: 'Gafas/Arch' },
                { name: 'Pradera (Mananti)', pokes: ['tork', 'arch'], note: 'Tork/Arch -> 2x Typh - CAMBIAR CANAL' }
            ]},
            { region: 'KANTO', gyms: [
                { name: 'Azulona (Erika)', pokes: ['typh_gafas', 'typh_gafas'], note: '2x Typh (Si cae -> Arch) - RESET PC' },
                { name: 'Carmín (Lt. Surge)', pokes: ['typh_gafas', 'typh_gafas'], note: '2x Typh (Si Lluvia -> Tork)' },
                { name: 'Plateada (Brock)', pokes: ['arch', 'blast'], note: 'Arch/Blast (Si Toxicroak -> Scarf)' },
                { name: 'Celeste (Misty)', pokes: ['typh_gafas', 'typh_gafas'], note: 'Estrategia mixta' },
                { name: 'Fucsia (Koga)', pokes: ['tork', 'typh_gafas'], note: 'Tork/Scarf a Gafas/Arch' },
                { name: 'Azafrán (Sabrina)', pokes: ['typh_gafas', 'typh_gafas'], note: '2x Typhlosion' },
                { name: 'Canela (Blaine)', pokes: ['arch', 'blast'], note: 'Arch/Blast' },
                { name: 'Verde (Azul)', pokes: ['tork', 'typh_gafas'], note: 'Tork/Scarf a Gafas/Arch' }
            ]}
        ];

        const tbody = document.getElementById('gym-table-body');
        gymData.forEach(region => {
            const header = document.createElement('tr');
            header.className = 'region-header';
            header.innerHTML = `<td colspan="3">${region.region}</td>`;
            tbody.appendChild(header);

            region.gyms.forEach(gym => {
                const tr = document.createElement('tr');
                const pokesHTML = gym.pokes.map(p => getPokeHTML(p)).join('');
                tr.innerHTML = `
                    <td><input type="checkbox"></td>
                    <td>${gym.name}</td>
                    <td>
                        <div class="strat-cell">
                            ${pokesHTML}
                            <span class="reset-note">${gym.note}</span>
                        </div>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        });

        function calc18h() {
            const timeVal = document.getElementById('inputTime').value;
            if (!timeVal) return;
            let [hours, minutes] = timeVal.split(':').map(Number);
            let newHours = (hours + 18) % 24;
            let period = newHours >= 12 ? 'PM' : 'AM';
            let hours12 = newHours % 12 || 12; 
            let minStr = minutes < 10 ? '0' + minutes : minutes;
            document.getElementById('result').innerText = `Próximo: ${hours12}:${minStr} ${period}`;
        }
    </script>
</body>
</html>
